# React Reconciliation (Virtual DOM)
React는 UI 업데이트를 효율적으로 처리하기 위해 가상 DOM(Virtual DOM) 을 사용하고, 이를 통해 리콘실리에이션(Reconciliation) 과정을 거칩니다. 이 과정은 어떻게 동작하는지 알아봅시다.

## 1️⃣ 가상 DOM (Virtual DOM) 개념
가상 DOM은 실제 DOM(Document Object Model) 의 가벼운 복사본입니다.
React는 가상 DOM을 사용해 UI 상태가 변경될 때마다 실제 DOM을 업데이트하는 대신, 먼저 가상 DOM에서 변경 사항을 적용합니다.

### 🔹 목적:
- 실제 DOM의 렌더링 비용을 줄여 성능을 향상시키는 것.
- 빠르고 효율적인 업데이트를 제공.


## 2️⃣ 리콘실리에이션(Reconciliation) 과정
리콘실리에이션은 React가 상태가 변경될 때 가상 DOM을 업데이트하고, 실제 DOM과 비교하여 효율적으로 변경 사항을 적용하는 과정입니다.
이 과정에서 React는 "어떤 부분을 업데이트해야 할지" 결정합니다.

### 🔹 리콘실리에이션 과정:
변경된 상태 확인:
- React 컴포넌트의 상태(state)나 속성(props)이 변경되면, React는 이 변경을 추적하고 새로운 가상 DOM을 생성합니다.

가상 DOM 비교:
- 이전 가상 DOM과 새로 생성된 가상 DOM을 비교(이를 **"Diffing"**이라고 부름)하여 차이점을 찾습니다.

최소한의 DOM 업데이트:
- 변경된 부분만 찾아 실제 DOM에 반영하여 불필요한 업데이트를 피하고 성능을 최적화합니다.

## 3️⃣ 가상 DOM을 이용한 효율성
전체 리렌더링 최소화:
- React는 전체 페이지를 다시 그리지 않음. 가상 DOM에서 변경된 부분만 찾아 실제 DOM에 적용합니다.

최적화된 업데이트:
- React는 재렌더링을 최소화하기 위해 key 값을 활용하거나, shouldComponentUpdate 메소드를 사용해 성능을 더 최적화할 수 있습니다.

배치 업데이트:
- React는 여러 상태 변경을 배치 처리하여 한 번에 일괄적으로 DOM을 업데이트합니다. 이를 통해 성능이 향상됩니다.


## 4️⃣ 예시로 이해하기
가령, React 앱에서 리스트 아이템을 추가한다고 가정합시다.
상태 변경:
- 사용자가 리스트에 항목을 추가하면, React는 새로운 상태를 생성하고 새로운 가상 DOM을 만듭니다.

가상 DOM 비교:
- 이전의 가상 DOM과 새로운 가상 DOM을 비교하여, 추가된 항목만 변경사항으로 인식합니다.

최소한의 DOM 변경:
- 실제 DOM에서 리스트 항목을 추가하는 부분만 업데이트되며, 다른 부분은 그대로 유지됩니다.

## 5️⃣ 리콘실리에이션의 최적화
key props 사용:
- React는 리스트 항목을 업데이트할 때, 각 항목에 고유한 key를 부여하여 항목을 효율적으로 추적하고 업데이트합니다.
  
shouldComponentUpdate 메소드:
- 클래스 컴포넌트에서는 이 메소드를 사용하여, 컴포넌트가 불필요하게 리렌더링되는 것을 방지할 수 있습니다.

## 6️⃣ 결론
React의 리콘실리에이션과 가상 DOM은 앱의 성능을 최적화하기 위해 중요한 역할을 합니다. React는 실제 DOM을 직접 수정하기보다는 가상 DOM에서 변경 사항을 처리하고, 최소한의 작업만을 실제 DOM에 반영하여 빠르고 효율적인 UI 업데이트를 보장합니다. 🏎️

